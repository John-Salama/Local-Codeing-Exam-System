{% extends "base.html" %} {% block title %}Create Exam - Exam System{% endblock
%} {% block content %}
<div class="create-exam-container">
  <h2>Create New Exam</h2>

  <form
    method="POST"
    action="{{ url_for('create_exam') }}"
    id="create-exam-form"
  >
    <div class="form-group">
      <label for="title">Exam Title:</label>
      <input type="text" id="title" name="title" required />
    </div>

    <div class="form-group">
      <label for="duration">Duration (minutes):</label>
      <input
        type="number"
        id="duration"
        name="duration"
        min="1"
        value="30"
        required
      />
    </div>

    <div class="form-group">
      <label>Questions:</label>
      <div id="questions-container">
        <div class="question-item">
          <textarea
            name="question"
            rows="3"
            class="question-textarea"
            placeholder="Enter question..."
            required
          ></textarea>
        </div>
      </div>

      <button type="button" id="add-question-btn" class="button secondary">
        Add Another Question
      </button>
    </div>

    <div class="form-actions">
      <button type="submit" class="button primary">Create Exam</button>
      <a href="{{ url_for('teacher_dashboard') }}" class="button">Cancel</a>
    </div>
  </form>
</div>
{% endblock %} {% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const addQuestionBtn = document.getElementById("add-question-btn");
    const questionsContainer = document.getElementById("questions-container");

    addQuestionBtn.addEventListener("click", function () {
      const questionItem = document.createElement("div");
      questionItem.className = "question-item";

      const textarea = document.createElement("textarea");
      textarea.name = "question";
      textarea.rows = "3";
      textarea.className = "question-textarea";
      textarea.placeholder = "Enter question...";
      textarea.required = true;

      const removeBtn = document.createElement("button");
      removeBtn.type = "button";
      removeBtn.className = "remove-question-btn";
      removeBtn.textContent = "><";
      removeBtn.addEventListener("click", function () {
        questionItem.remove();
      });

      questionItem.appendChild(textarea);
      questionItem.appendChild(removeBtn);
      questionsContainer.appendChild(questionItem);

      textarea.focus();
    });
  });
</script>
{% endblock %}
